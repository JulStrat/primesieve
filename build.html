<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Build instructions for the primesieve console application and the primesieve C/C++ library.">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <link rel="shortcut icon" href="images/primesieve.ico" />

    <!-- Use stylesheet.css if javascript is disabled -->
    <noscript>
      <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
      <link rel="stylesheet" type="text/css" href="stylesheets/navigation_menu.css">
    </noscript>

    <!-- Use non default stylesheets if on Mac OS X -->
    <script type="text/javascript">
      function appendStylesheetToHead(name)
      {
        var osId = "";
        if (navigator.appVersion.indexOf("Mac") != -1) {
          osId = "_mac";
        }
        var el = document.createElement("link");
        el.type  = "text/css";
        el.rel   = "stylesheet";
        el.media = "screen";
        el.href  = "stylesheets/" + name + osId + ".css";
        document.getElementsByTagName("head")[0].appendChild(el);
      }
      appendStylesheetToHead("stylesheet");
      appendStylesheetToHead("navigation_menu");
    </script>

    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <script src="javascripts/jquery-1.11.0.min.js" type="text/javascript"></script> 
    <script src="javascripts/modernizr-2.7.1.min.js" type="text/javascript"></script>
    <script src="javascripts/custom.js" type="text/javascript"></script>

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>primesieve - Build From Source</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>primesieve</h1>
        <h2>Fast C/C++ prime number generator</h2>
        <a href="https://github.com/kimwalisch/primesieve" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">

<div id="container">
  <nav id="navigation">
    <ul>
      <li><a href=".">Home</a></li>
      <li><a href="downloads">Downloads</a></li>
      <li><a href="https://github.com/kimwalisch/primesieve#build-requirements">Build From Source</a></li>
      <li><a href="segmented_sieve.html">Segmented Sieve</a></li>
      <li><a href="api">API Documentation</a></li>
      <li><a href="links.html">Links</a></li>
    </ul>
  </nav>
</div>

<h2>
<a name="introduction" class="anchor" href="#introduction"><span class="octicon octicon-link"></span></a>Introduction</h2>
<p>primesieve is written in C++03 and multi-threading is implemented using
<a href="http://openmp.org">OpenMP</a> 2.0 or later. OpenMP is optional but if
your compiler supports it OpenMP will be enabled by default. primesieve is
very portable, it runs on both little and big endian CPUs and has been tested
extensively on x86, x86-64, ARM and PowerPC CPUs. primesieve relies on the GNU
Build System on Unix-like operating systems and on nmake on Windows (Visual
C++). The <a href="mailto:kim.walisch@gmail.com">author</a> has successfully
built primesieve on Windows, Cygwin, MinGW, Linux, Mac OS X, BSD and Solaris.</p>

<h2>
<a name="build_unix" class="anchor" href="#build_unix"><span class="octicon octicon-link"></span></a>Build instructions (UNIX-like OSes)</h2>
<p>In order to build primesieve you need to have installed a C++ compiler and
GNU make (any make works). Download the latest primesieve release tarball
(<a href="https://github.com/kimwalisch/primesieve/tarball/master" class="download_targz">.tar.gz</a>, 
<a href="https://github.com/kimwalisch/primesieve/zipball/master" class="download_zip">.zip</a>),
open a terminal, unzip the source archive and cd into the newly created
directory. Then build and install primesieve using:</p>
<div class="highlight highlight-sh"><pre><span class="nv">$ </span>./configure
<span class="nv">$ </span>make
<span class="nv">$ </span>sudo make install
</pre></div>
<p>This builds and installs the primesieve command-line program and libprimesieve.</p>

<h2>
<a name="build_msvc" class="anchor" href="#build_msvc"><span class="octicon octicon-link"></span></a>Build instructions (MSVC)</h2>
<p>Download the latest primesieve source archive
(<a href="https://github.com/kimwalisch/primesieve/zipball/master" class="download_zip">.zip</a>) and
unzip it. Then open a 'Visual Studio Command Prompt', cd into the newly
created directory and build primesieve using:</p>
<div class="highlight highlight-sh"><pre>
<span class="nv">> </span>nmake -f Makefile.msvc
</pre></div>
<p>This builds the primesieve command-line program and primesieve.lib.</p>

<h2>
<a name="primesieve-console-application" class="anchor" href="#primesieve-console-application"><span class="octicon octicon-link"></span></a>primesieve console application</h2>

<p>The primesieve console application can print and count primes and
prime k-tuplets and find the nth prime. Below are a few usage examples:</p>

<div class="highlight highlight-bash"><pre><span class="c"># Print the primes below 1000000</span>
<span class="nv">$ </span>primesieve 1000000 --print

<span class="c"># Print the twin primes below 1000000</span>
<span class="nv">$ </span>primesieve 1000000 --print<span class="o">=</span>2

<span class="c"># Count the primes below 1e10 using all CPU cores</span>
<span class="nv">$ </span>primesieve 1e10 --count

<span class="c"># Count the primes within [1e10, 2e10] using 4 threads</span>
<span class="nv">$ </span>primesieve 1e10 2e10 --count --threads<span class="o">=</span>4

<span class="c"># Print an option summary</span>
<span class="nv">$ </span>primesieve --help
</pre></div>

<h2 style="padding-bottom: 8px">
<a name="linking-unix" class="anchor" href="#linking-unix"><span class="octicon octicon-link"></span></a>Linking against libprimesieve (Unix-like OSes)</h2>
<div class="highlight highlight-bash"><pre>
<span class="nv">$ </span>c++ -O2 my_program.cpp -lprimesieve
<span class="nv">$ </span>cc  -O2 my_program.c   -lprimesieve
</pre></div>
<p>If linking fails these export commands usually help:</p>
<div class="highlight highlight-bash"><pre>
<span class="nv">$ </span><span class="nb">export </span><span class="nv">LIBRARY_PATH</span><span class="o">=</span>/usr/local/lib:<span class="nv">$LIBRARY_PATH</span>
<span class="nv">$ </span><span class="nb">export </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/usr/local/lib:<span class="nv">$LD_LIBRARY_PATH</span>
<span class="nv">$ </span><span class="nb">export </span><span class="nv">C_INCLUDE_PATH</span><span class="o">=</span>/usr/local/include:<span class="nv">$C_INCLUDE_PATH</span>
<span class="nv">$ </span><span class="nb">export </span><span class="nv">CPLUS_INCLUDE_PATH</span><span class="o">=</span>/usr/local/include:<span class="nv">$CPLUS_INCLUDE_PATH</span>
</pre></div>

<h2 style="padding-bottom: 8px">
<a name="linking-msvc" class="anchor" href="#linking-msvc"><span class="octicon octicon-link"></span></a>Linking against primesieve.lib (MSVC)</h2>
<div class="highlight highlight-bash"><pre>
<span class="nv">> </span>cl /O2 /EHsc my_program.cpp /I primesieve\include /link primesieve\primesieve.lib
</pre></div>
<p>Windows currently does not support <code>nmake install</code> therefore
you must specify primesieve's include path (<code>/I</code> option) and
the path to primesieve.lib (<code>/link</code> option) in order to compile
your program.</p>

        </section>

        <aside id="sidebar">
          <a href="https://github.com/kimwalisch/primesieve/zipball/master" class="download_button button">
            <small>Download</small>
            <span>.zip file</span>
          </a>

          <iframe src="http://ghbtns.com/github-btn.html?user=kimwalisch&repo=primesieve&type=watch&count=true&size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe>
          <p class="repo-owner" style="padding-top: 14px;"><a href="https://github.com/kimwalisch/primesieve"></a> is maintained by <a href="https://github.com/kimwalisch">kimwalisch</a>.</p>

          <p>This page was published with <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  </body>
</html>
